import React from "react";
import NavMenu from "./NavMenu";
import OpenMenuBtn from "./OpenMenuBtn";
import styles from "../../styles/Components/Nav.module.scss";
import { motion } from "framer-motion";
import { defaultAnimationEasing } from "../../Animations";

const Nav: React.FC = () => {
  const [isMenuOpen, setMenuOpen] = React.useState<boolean>(false);

  // React.useEffect(() => {
  //   let scroll: any;

  //   // @ts-ignore
  //   import("locomotive-scroll").then((locomotiveModule) => {
  //     scroll = new locomotiveModule.default({
  //       el: document.querySelector("[data-scroll-container]"),
  //       smooth: true,
  //       smoothMobile: false,
  //       resetNativeScroll: true,
  //     });
  //   });

  //   return () => {
  //     if (scroll) scroll.destroy();
  //   };
  // }, [isMenuOpen]);

  return (
    <>
      <NavMenu isOpen={isMenuOpen} setOpen={setMenuOpen} />
      <motion.div
        initial={{
          opacity: 0,
          y: -40,
        }}
        animate={{
          opacity: 1,
          y: 0,
          transition: {
            duration: 1,
            ease: defaultAnimationEasing,
          },
        }}
        className={
          !isMenuOpen ? styles.navbar : `${styles.navbar} ${styles.navbar_open}`
        }
        id={"NAVBAR"}
      >
        <OpenMenuBtn isOpen={isMenuOpen} setOpen={setMenuOpen} />
        <div className={styles.navbar_myLogo}>
          <svg
            width="90"
            height="33"
            viewBox="0 0 80 23"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M1 22V5L18 22H1Z" fill="white" />
            <path d="M1 22V5L18 22H1Z" stroke="black" />
            <path d="M20 3V20L3 3H20Z" fill="black" />
            <path d="M20 3V20L3 3H20Z" stroke="white" />
            <path
              d="M43.138 4.4V17H41.86V6.92L36.91 15.398H36.28L31.33 6.974V17H30.052V4.4H31.15L36.622 13.742L42.04 4.4H43.138ZM50.2854 7.46C51.5214 7.46 52.4694 7.772 53.1294 8.396C53.7894 9.008 54.1194 9.92 54.1194 11.132V17H52.8954V15.524C52.6074 16.016 52.1814 16.4 51.6174 16.676C51.0654 16.952 50.4054 17.09 49.6374 17.09C48.5814 17.09 47.7414 16.838 47.1174 16.334C46.4934 15.83 46.1814 15.164 46.1814 14.336C46.1814 13.532 46.4694 12.884 47.0454 12.392C47.6334 11.9 48.5634 11.654 49.8354 11.654H52.8414V11.078C52.8414 10.262 52.6134 9.644 52.1574 9.224C51.7014 8.792 51.0354 8.576 50.1594 8.576C49.5594 8.576 48.9834 8.678 48.4314 8.882C47.8794 9.074 47.4054 9.344 47.0094 9.692L46.4334 8.738C46.9134 8.33 47.4894 8.018 48.1614 7.802C48.8334 7.574 49.5414 7.46 50.2854 7.46ZM49.8354 16.082C50.5554 16.082 51.1734 15.92 51.6894 15.596C52.2054 15.26 52.5894 14.78 52.8414 14.156V12.608H49.8714C48.2514 12.608 47.4414 13.172 47.4414 14.3C47.4414 14.852 47.6514 15.29 48.0714 15.614C48.4914 15.926 49.0794 16.082 49.8354 16.082ZM58.8146 9.386C59.1146 8.75 59.5586 8.27 60.1466 7.946C60.7466 7.622 61.4846 7.46 62.3606 7.46V8.702L62.0546 8.684C61.0586 8.684 60.2786 8.99 59.7146 9.602C59.1506 10.214 58.8686 11.072 58.8686 12.176V17H57.5906V7.532H58.8146V9.386ZM64.6746 7.532H65.9526V17H64.6746V7.532ZM65.3226 5.462C65.0586 5.462 64.8366 5.372 64.6566 5.192C64.4766 5.012 64.3866 4.796 64.3866 4.544C64.3866 4.304 64.4766 4.094 64.6566 3.914C64.8366 3.734 65.0586 3.644 65.3226 3.644C65.5866 3.644 65.8086 3.734 65.9886 3.914C66.1686 4.082 66.2586 4.286 66.2586 4.526C66.2586 4.79 66.1686 5.012 65.9886 5.192C65.8086 5.372 65.5866 5.462 65.3226 5.462ZM73.3786 17.09C72.4666 17.09 71.6446 16.886 70.9126 16.478C70.1806 16.058 69.6046 15.482 69.1846 14.75C68.7646 14.018 68.5546 13.19 68.5546 12.266C68.5546 11.342 68.7646 10.514 69.1846 9.782C69.6046 9.05 70.1806 8.48 70.9126 8.072C71.6446 7.664 72.4666 7.46 73.3786 7.46C74.2906 7.46 75.1126 7.664 75.8446 8.072C76.5766 8.48 77.1466 9.05 77.5546 9.782C77.9746 10.514 78.1846 11.342 78.1846 12.266C78.1846 13.19 77.9746 14.018 77.5546 14.75C77.1466 15.482 76.5766 16.058 75.8446 16.478C75.1126 16.886 74.2906 17.09 73.3786 17.09ZM73.3786 15.956C74.0506 15.956 74.6506 15.806 75.1786 15.506C75.7186 15.194 76.1386 14.756 76.4386 14.192C76.7386 13.628 76.8886 12.986 76.8886 12.266C76.8886 11.546 76.7386 10.904 76.4386 10.34C76.1386 9.776 75.7186 9.344 75.1786 9.044C74.6506 8.732 74.0506 8.576 73.3786 8.576C72.7066 8.576 72.1006 8.732 71.5606 9.044C71.0326 9.344 70.6126 9.776 70.3006 10.34C70.0006 10.904 69.8506 11.546 69.8506 12.266C69.8506 12.986 70.0006 13.628 70.3006 14.192C70.6126 14.756 71.0326 15.194 71.5606 15.506C72.1006 15.806 72.7066 15.956 73.3786 15.956Z"
              fill="#000"
            />
          </svg>
        </div>
      </motion.div>
    </>
  );
};

export default Nav;
